!function(){var e=document.querySelector(".section-catalog");if(null!==e){var t=function(e,t){console.log(t),function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e);for(var o=0;o<t.length;o++)e.appendChild(t[o])},o=e.querySelector(".catalog"),r=e.querySelector(".catalog-nav"),n=e.querySelectorAll(".catalog__item");r.addEventListener("click",(function(e){var i=e.target,a=myLib.closestItemByClass(i,"catalog-nav__btn");if(null!==a&&!a.classList.contains("is-active")){e.preventDefault();var c=a.getAttribute("data-filter");if(r.querySelector(".catalog-nav__btn.is-active").classList.remove("is-active"),a.classList.add("is-active"),"all"!==c){for(var l=[],s=0;s<n.length;s++){var u=n[s];u.getAttribute("data-category")===c&&l.push(u)}t(o,l)}else t(o,n)}}))}}(),function(){var e=document.querySelectorAll(".form-send");if(0!==e.length)for(var t=function(e){var t=new XMLHttpRequest;t.open("POST","mail/mail.php"),t.setRequestHeader("Content-type","application/json; charset=utf-8"),t.onload=function(){console.log("done")},t.send(),console.log(e)},o=0;o<e.length;o++)e[o].addEventListener("submit",(function(e){e.preventDefault();var o=e.currentTarget;t(o)}))}(),function(){if(!window.matchMedia("(max-width: 992px)").matches){var e=document.querySelector(".header-page");window.addEventListener("scroll",(function(){window.pageYOffset>0?e.classList.add("is-active"):e.classList.remove("is-active")}))}}();var lazyLoadInstance=new LazyLoad({});"undefined"!=typeof ymaps&&ymaps.ready((function(){var e=new ymaps.Map("ymap",{center:[52.282974,104.280581],zoom:16},{searchControlProvider:"yandex#search"}),t=new ymaps.Placemark(e.getCenter(),{hintContent:"Пиццерия PizzaTime",balloonContent:"г. Иркутск, Ленина, д. 22, тел: +7 (999) 888-77-66"},{iconLayout:"default#image",iconImageHref:"../images/common/marker.svg",iconImageSize:[40,63.2],iconImageOffset:[-5,-38]});e.geoObjects.add(t),e.behaviors.disable("scrollZoom")})),window.myLib={},window.myLib.body=document.querySelector("body"),window.myLib.closestItemByClass=function(e,t){for(var o=e;o;){if(o.classList.contains(t))return o;o=o.parentElement}return null},window.myLib.closestAttr=function(e,t){for(var o=e;o;){var r=o.getAttribute(t);if(r)return r;o=o.parentElement}return null},window.myLib.toggleScroll=function(){myLib.body.classList.toggle("no-scroll")},function(){var e=function(e){e.classList.remove("is-active")};myLib.body.addEventListener("click",(function(e){var t=e.target,o=myLib.closestAttr(t,"data-popup");if(null!==o){e.preventDefault();var r=document.querySelector("."+o);r&&(!function(e){e.classList.add("is-active")}(r),myLib.toggleScroll())}})),myLib.body.addEventListener("click",(function(t){var o=t.target;if(o.classList.contains("popup-close")||o.classList.contains("popup__inner")){var r=myLib.closestItemByClass(o,"popup");e(r),myLib.toggleScroll()}})),myLib.body.addEventListener("keydown",(function(t){if("Escape"===t.key){var o=document.querySelector(".popup.is-active");o&&(e(o),myLib.toggleScroll())}}))}(),function(){var e=document.querySelector(".catalog");if(null!==e){var t=function(e){var t=myLib.closestItemByClass(e,"product"),o=t.querySelector(".product__size.is-active"),r=e.getAttribute("data-product-size-price");o.classList.remove("is-active"),e.classList.add("is-active"),function(e,t){e.querySelector(".product__price-value").textContent=t,console.log(e)}(t,r)};e.addEventListener("click",(function(e){var o=e.target;o.classList.contains("product__size")&&!o.classList.contains("is-active")&&(e.preventDefault(),t(o)),o.classList.contains("product__btn")&&(e.preventDefault(),function(e){var t=myLib.closestItemByClass(e,"product"),o=document.querySelector(".popup-order"),r=t.querySelector(".product__title").textContent,n=t.querySelector(".product__size.is-active").textContent,i=t.querySelector(".product__price-value").textContent,a=t.querySelector(".product__img").getAttribute("src");o.querySelector(".order-info-title").setAttribute("value",r),o.querySelector(".order-info-price").setAttribute("value",i),o.querySelector(".order-info-size").setAttribute("value",n),o.querySelector(".order-product-title").textContent=r,o.querySelector(".order-product-price").textContent=i,o.querySelector(".order__size").textContent=n,o.querySelector(".order__img").setAttribute("src",a)}(o))}))}}(),myLib.body.addEventListener("click",(function(e){var t=e.target,o=myLib.closestAttr(t,"data-scroll-to");if(null!==o){e.preventDefault();var r,n,i=document.querySelector("."+o);i&&(r=i.getBoundingClientRect().top+window.pageYOffset,n=document.querySelector(".header-page").clientHeight,window.scrollTo(0,r-n))}}));