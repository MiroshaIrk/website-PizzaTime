!function(){var e=document.querySelector(".section-catalog");if(null!==e){var t=function(e,t){console.log(t),function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e);for(var o=0;o<t.length;o++)e.appendChild(t[o])},o=e.querySelector(".catalog"),n=e.querySelector(".catalog-nav"),r=e.querySelectorAll(".catalog__item");n.addEventListener("click",(function(e){var i=e.target,a=myLib.closestItemByClass(i,"catalog-nav__btn");if(null!==a&&!a.classList.contains("is-active")){e.preventDefault();var c=a.getAttribute("data-filter");if(n.querySelector(".catalog-nav__btn.is-active").classList.remove("is-active"),a.classList.add("is-active"),"all"!==c){for(var l=[],s=0;s<r.length;s++){var u=r[s];u.getAttribute("data-category")===c&&l.push(u)}t(o,l)}else t(o,r)}}))}}(),function(){var e=document.querySelectorAll(".form-send");if(0!==e.length)for(var t=function(e){var t=new XMLHttpRequest;t.open("POST","mail/mail.php"),t.setRequestHeader("Content-type","application/json; charset=utf-8"),t.onload=function(){console.log("done")},t.send(),console.log(e)},o=0;o<e.length;o++)e[o].addEventListener("submit",(function(e){e.preventDefault();var o=e.currentTarget;t(o)}))}(),function(){if(!window.matchMedia("(max-width: 992px)").matches){var e=document.querySelector(".header-page");window.addEventListener("scroll",(function(){window.pageYOffset>0?e.classList.add("is-active"):e.classList.remove("is-active")}))}}();var canUseWebp=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))&&0==e.toDataURL("image/webp").indexOf("data:image/webp")},checkWebp=function(){if(!canUseWebp()){var e=document.querySelectorAll("[data-bg-replace-webp]");for(let o of e){var t=o.getAttribute("data-bg-replace-webp");null!==t&&o.setAttribute("data-bg",t)}}};checkWebp();var lazyLoadInstance=new LazyLoad({});!function(){var e=function(){"undefined"!=typeof ymaps&&ymaps.ready((function(){var e=new ymaps.Map("ymap",{center:[52.282974,104.280581],zoom:16},{searchControlProvider:"yandex#search"}),t=new ymaps.Placemark(e.getCenter(),{hintContent:"Пиццерия PizzaTime",balloonContent:"г. Иркутск, Ленина, д. 22, тел: +7 (999) 888-77-66"},{iconLayout:"default#image",iconImageHref:"../images/common/marker.svg",iconImageSize:[40,63.2],iconImageOffset:[-5,-38]});e.geoObjects.add(t),e.behaviors.disable("scrollZoom")}))},t=document.querySelector(".section-contacts"),o=document.querySelector("body"),n=function(){var r,i=t.getBoundingClientRect().top,a=window.pageYOffset,c=a+i;a+window.innerHeight>c&&((r=document.createElement("script")).src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",o.appendChild(r),r.addEventListener("load",e),window.removeEventListener("scroll",n))};window.addEventListener("scroll",n),n()}(),window.myLib={},window.myLib.body=document.querySelector("body"),window.myLib.closestItemByClass=function(e,t){for(var o=e;o;){if(o.classList.contains(t))return o;o=o.parentElement}return null},window.myLib.closestAttr=function(e,t){for(var o=e;o;){var n=o.getAttribute(t);if(n)return n;o=o.parentElement}return null},window.myLib.toggleScroll=function(){myLib.body.classList.toggle("no-scroll")},function(){var e=function(e){e.classList.remove("is-active")};myLib.body.addEventListener("click",(function(e){var t=e.target,o=myLib.closestAttr(t,"data-popup");if(null!==o){e.preventDefault();var n=document.querySelector("."+o);n&&(!function(e){e.classList.add("is-active")}(n),myLib.toggleScroll())}})),myLib.body.addEventListener("click",(function(t){var o=t.target;if(o.classList.contains("popup-close")||o.classList.contains("popup__inner")){var n=myLib.closestItemByClass(o,"popup");e(n),myLib.toggleScroll()}})),myLib.body.addEventListener("keydown",(function(t){if("Escape"===t.key){var o=document.querySelector(".popup.is-active");o&&(e(o),myLib.toggleScroll())}}))}(),function(){var e=document.querySelector(".catalog");if(null!==e){var t=function(e){var t=myLib.closestItemByClass(e,"product"),o=t.querySelector(".product__size.is-active"),n=e.getAttribute("data-product-size-price");o.classList.remove("is-active"),e.classList.add("is-active"),function(e,t){e.querySelector(".product__price-value").textContent=t,console.log(e)}(t,n)};e.addEventListener("click",(function(e){var o=e.target;o.classList.contains("product__size")&&!o.classList.contains("is-active")&&(e.preventDefault(),t(o)),o.classList.contains("product__btn")&&(e.preventDefault(),function(e){var t=myLib.closestItemByClass(e,"product"),o=document.querySelector(".popup-order"),n=t.querySelector(".product__title").textContent,r=t.querySelector(".product__size.is-active").textContent,i=t.querySelector(".product__price-value").textContent,a=t.querySelector(".product__img").getAttribute("src");o.querySelector(".order-info-title").setAttribute("value",n),o.querySelector(".order-info-price").setAttribute("value",i),o.querySelector(".order-info-size").setAttribute("value",r),o.querySelector(".order-product-title").textContent=n,o.querySelector(".order-product-price").textContent=i,o.querySelector(".order__size").textContent=r,o.querySelector(".order__img").setAttribute("src",a)}(o))}))}}(),myLib.body.addEventListener("click",(function(e){var t=e.target,o=myLib.closestAttr(t,"data-scroll-to");if(null!==o){e.preventDefault();var n,r,i=document.querySelector("."+o);i&&(n=i.getBoundingClientRect().top+window.pageYOffset,r=document.querySelector(".header-page").clientHeight,window.scrollTo(0,n-r))}}));